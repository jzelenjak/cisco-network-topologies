annotations:
  - border_color: '#FF000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: |2-

      172.16.3.0/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 2
    type: text
    x1: -440.0
    y1: -320.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: |2-

      172.16.4.0/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 240.0
    y1: -320.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: '   172.16.3.13'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -440.0
    y1: -200.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: '   172.16.4.13'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 200.0
    y1: -200.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#3A3A3A'
    rotation: 0
    text_bold: false
    text_content: (External network)
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -360.0
    y1: -360.0
    z_index: 5
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: |2-

        192.168.5.0/24
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -360.0
    y1: -400.0
    z_index: 6
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: '  192.168.5.13'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -360.0
    y1: -520.0
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: '.1'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -80.0
    y1: -280.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: '  192.168.5.14'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 120.0
    y1: -520.0
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#5B5B5B'
    rotation: 0
    text_bold: false
    text_content: |2-
        Standard ACL 1 (G0/1,OUT)
        PERMIT Traffic from 192.168.5.13 (EVE)
        DENY   Traffic from 192.168.5.14 (GO-4)
        PERMIT Traffic from 192.168.5.254 (SW3)
        PERMIT Traffic from 172.16.0.0/16 (internal)
        DENY   All other traffic
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 0.0
    y1: -120.0
    z_index: 1
  - border_color: '#5B5B5B'
    border_style: 4,2
    color: '#5B5B5B'
    line_end: null
    line_start: arrow
    thickness: 2
    type: line
    x1: 0.0
    y1: -280.0
    x2: 80.0
    y2: -120.0
    z_index: 2
  - border_color: '#FF0000'
    border_style: ''
    color: '#FF0000'
    line_end: arrow
    line_start: null
    thickness: 2
    type: line
    x1: 0.0
    y1: -280.0
    x2: 40.0
    y2: -280.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#3A3A3A'
    rotation: 0
    text_bold: false
    text_content: |2-

       Standard ACL 12 (VTY)
       PERMIT Traffic from 192.168.5.13 (EVE)
       PERMIT Traffic from 172.16.0.0/16 (internal)
       DENY   All other traffic
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 0.0
    y1: -480.0
    z_index: 1
  - border_color: '#3A3A3A'
    border_style: 4,2
    color: '#3A3A3A'
    line_end: null
    line_start: arrow
    thickness: 2
    type: line
    x1: 0.0
    y1: -320.0
    x2: 80.0
    y2: -360.0
    z_index: 5
  - border_color: '#FF0000'
    border_style: ''
    color: '#FF0000'
    line_end: null
    line_start: arrow
    thickness: 2
    type: line
    x1: -120.0
    y1: -280.0
    x2: -80.0
    y2: -280.0
    z_index: 1
  - border_color: '#00000000'
    border_style: 4,2
    color: '#5B5B5B'
    rotation: 0
    text_bold: false
    text_content: |2-

      Extended ACL 101 (G0/0,OUT)
      PERMIT FTP Control from 172.16.4.0/24 (WALL-E's subnet)
      PERMIT FTP Data from 172.16.4.0/24 (WALL-E's subnet)
      PERMIT FTP from 192.168.5.13 (EVE)
      DENY   FTP from 192.168.5.0/24 (external network)
      DENY   All other FTP traffic
      PERMIT All other IP traffic
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -520.0
    y1: -160.0
    z_index: 1
  - border_color: '#5B5B5B'
    border_style: 4,2
    color: '#5B5B5B'
    line_end: null
    line_start: arrow
    thickness: 2
    type: line
    x1: -80.0
    y1: -280.0
    x2: -160.0
    y2: -120.0
    z_index: 2
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: '  172.16.3.254'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -280.0
    y1: -200.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: '  172.16.4.254'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: 40.0
    y1: -200.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: ' 192.168.5.254'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -200.0
    y1: -480.0
    z_index: 3
  - border_color: '#808080FF'
    border_radius: 0
    border_style: ''
    color: '#6FD4F7'
    rotation: 0
    thickness: 1
    type: rectangle
    x1: -40.0
    y1: -320.0
    x2: 480.0
    y2: 160.0
    z_index: 0
  - border_color: '#808080FF'
    border_radius: 0
    border_style: ''
    color: '#7CFF9A'
    rotation: 0
    thickness: 1
    type: rectangle
    x1: -520.0
    y1: -320.0
    x2: 480.0
    y2: 160.0
    z_index: 0
  - border_color: '#808080FF'
    border_radius: 0
    border_style: ''
    color: '#FA8787'
    rotation: 0
    thickness: 1
    type: rectangle
    x1: -520.0
    y1: -600.0
    x2: 960.0
    y2: 280.0
    z_index: 0
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: ' .1'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -40.0
    y1: -280.0
    z_index: 1
  - border_color: '#00000000'
    border_style: ''
    color: '#000000'
    rotation: 0
    text_bold: false
    text_content: ' .1'
    text_font: monospace
    text_italic: false
    text_size: 12
    text_unit: pt
    thickness: 1
    type: text
    x1: -80.0
    y1: -360.0
    z_index: 1
smart_annotations: []
nodes:
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          Building configuration...

          Current configuration : 3831 bytes
          !
          ! Last configuration change at 17:11:19 UTC Thu Feb 12 2026 by cisco
          !
          version 15.2
          service timestamps debug datetime msec
          service timestamps log datetime msec
          no service password-encryption
          service compress-config
          !
          hostname SW2
          !
          boot-start-marker
          boot-end-marker
          !
          !
          no logging buffered
          no logging console
          enable secret 9 $9$/wlqjgOkiQb1vP$w/bBBl4Fmf4F6lKeFwZNmH1NZ9nvaGWVaehEHuV6HIc
          !
          username cisco privilege 15 secret 8 $8$iCNjJ6Yf.tnVgP$X92JuNNfuYXKPmOomb7xgmzVbvBbqR9Wwp9pIk4QbDo
          username wall-e secret 9 $9$ZgBtxtkxkEQTFP$s06H3ezFcSul7JkrzYGE0dvooEhu.vxEVkuBgZt7fcM
          username eve secret 9 $9$oKRAC5OlzZeJAv$Kwh9TX9SJ62.N2TNGjr9cQLqT9K8IysHYu4oK6p4RhA
          no aaa new-model
          !
          !
          !
          !
          !
          vtp mode off
          no ip routing
          !
          !
          !
          no ip domain-lookup
          ip domain-name axiom.bnl
          no ip cef
          no ipv6 cef
          !
          !
          !
          spanning-tree mode pvst
          spanning-tree portfast edge default
          spanning-tree portfast edge bpdufilter default
          spanning-tree extend system-id
          !
          !
          vlan 999
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          interface GigabitEthernet0/0
           switchport mode access
           negotiation auto
          !
          interface GigabitEthernet0/1
           switchport mode access
           switchport port-security mac-address sticky
           switchport port-security mac-address sticky 5254.00e8.4c7e
           switchport port-security
           negotiation auto
          !
          interface GigabitEthernet0/2
           switchport access vlan 999
           switchport mode access
           shutdown
           negotiation auto
          !
          interface GigabitEthernet0/3
           switchport access vlan 999
           switchport mode access
           shutdown
           negotiation auto
          !
          interface Vlan1
           ip address 172.16.4.254 255.255.255.0
           no ip route-cache
          !
          ip default-gateway 172.16.4.1
          ip forward-protocol nd
          !
          no ip http server
          no ip http secure-server
          !
          ip ssh version 2
          ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
          ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
          !
          !
          !
          !
          !
          !
          control-plane
          !
          banner exec ^CC
          IOSv - Cisco Systems Confidential -

          Supplemental End User License Restrictions

          This IOSv software is provided AS-IS without warranty of any kind. Under no circumstances may this software be used separate from the Cisco Modeling Labs Software that this software was provided with, or deployed or used as part of a production environment.

          By using the software, you agree to abide by the terms and conditions of the Cisco End User License Agreement at http://www.cisco.com/go/eula. Unauthorized use or distribution of this software is expressly prohibited.
          ^C
          banner incoming ^CC
          IOSv - Cisco Systems Confidential -

          Supplemental End User License Restrictions

          This IOSv software is provided AS-IS without warranty of any kind. Under no circumstances may this software be used separate from the Cisco Modeling Labs Software that this software was provided with, or deployed or used as part of a production environment.

          By using the software, you agree to abide by the terms and conditions of the Cisco End User License Agreement at http://www.cisco.com/go/eula. Unauthorized use or distribution of this software is expressly prohibited.
          ^C
          banner login ^CC
          IOSv - Cisco Systems Confidential -

          Supplemental End User License Restrictions

          This IOSv software is provided AS-IS without warranty of any kind. Under no circumstances may this software be used separate from the Cisco Modeling Labs Software that this software was provided with, or deployed or used as part of a production environment.

          By using the software, you agree to abide by the terms and conditions of the Cisco End User License Agreement at http://www.cisco.com/go/eula. Unauthorized use or distribution of this software is expressly prohibited.
          ^C
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
           login local
          line aux 0
          line vty 0 4
           exec-timeout 0 0
           logging synchronous
           login local
           transport input ssh
          line vty 5 1500
           exec-timeout 60 0
           logging synchronous
           login local
           transport input ssh
          !
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n0
    image_definition: null
    label: SW2
    node_definition: iosvl2
    parameters: {}
    ram: null
    tags: []
    x: 120
    y: -240
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        mac_address: 52:54:00:ba:ca:fb
        type: physical
        slot: 0
      - id: i2
        label: GigabitEthernet0/1
        mac_address: 52:54:00:a8:9b:1d
        type: physical
        slot: 1
      - id: i3
        label: GigabitEthernet0/2
        mac_address: 52:54:00:cb:6f:d4
        type: physical
        slot: 2
      - id: i4
        label: GigabitEthernet0/3
        mac_address: 52:54:00:36:4d:ef
        type: physical
        slot: 3
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          Building configuration...

          Current configuration : 3908 bytes
          !
          ! Last configuration change at 17:11:20 UTC Thu Feb 12 2026 by cisco
          !
          version 15.2
          service timestamps debug datetime msec
          service timestamps log datetime msec
          no service password-encryption
          service compress-config
          !
          hostname SW1
          !
          boot-start-marker
          boot-end-marker
          !
          !
          no logging buffered
          no logging console
          enable secret 9 $9$1jzVIpbSvmo/9f$Ctfdmao349XxWW1FP.tRJ8.zpbbNnC/gYKGd7sUqxEA
          !
          username cisco privilege 15 secret 8 $8$vfXNaivDtdjCS9$WVVGHfd4JnG29tM3YQ55zu.VoivpGQoEphTO0.KWhUM
          username wall-e secret 9 $9$k7fhNWNMjEhMwf$7Zn.eY6sZRw528dc/Qd3Wj1leL/Ybw5iHnCUMXhTNPI
          username eve secret 9 $9$4w04UKrj5bMKyf$qvJHbBTmCOELC1d2GinJ1bmYkJf1OSyL3sApkut2bsw
          no aaa new-model
          !
          !
          !
          !
          !
          vtp mode off
          no ip routing
          !
          !
          !
          no ip domain-lookup
          ip domain-name axiom.bnl
          no ip cef
          no ipv6 cef
          !
          !
          errdisable recovery cause psecure-violation
          errdisable recovery interval 120
          !
          spanning-tree mode pvst
          spanning-tree portfast edge default
          spanning-tree portfast edge bpdufilter default
          spanning-tree extend system-id
          !
          !
          vlan 999
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          interface GigabitEthernet0/0
           switchport mode access
           negotiation auto
          !
          interface GigabitEthernet0/1
           switchport mode access
           switchport port-security mac-address sticky
           switchport port-security mac-address sticky 5254.00dd.5b5e
           switchport port-security
           negotiation auto
          !
          interface GigabitEthernet0/2
           switchport access vlan 999
           switchport mode access
           shutdown
           negotiation auto
          !
          interface GigabitEthernet0/3
           switchport access vlan 999
           switchport mode access
           shutdown
           negotiation auto
          !
          interface Vlan1
           ip address 172.16.3.254 255.255.255.0
           no ip route-cache
          !
          ip default-gateway 172.16.3.1
          ip forward-protocol nd
          !
          no ip http server
          no ip http secure-server
          !
          ip ssh version 2
          ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
          ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
          !
          !
          !
          !
          !
          !
          control-plane
          !
          banner exec ^CC
          IOSv - Cisco Systems Confidential -

          Supplemental End User License Restrictions

          This IOSv software is provided AS-IS without warranty of any kind. Under no circumstances may this software be used separate from the Cisco Modeling Labs Software that this software was provided with, or deployed or used as part of a production environment.

          By using the software, you agree to abide by the terms and conditions of the Cisco End User License Agreement at http://www.cisco.com/go/eula. Unauthorized use or distribution of this software is expressly prohibited.
          ^C
          banner incoming ^CC
          IOSv - Cisco Systems Confidential -

          Supplemental End User License Restrictions

          This IOSv software is provided AS-IS without warranty of any kind. Under no circumstances may this software be used separate from the Cisco Modeling Labs Software that this software was provided with, or deployed or used as part of a production environment.

          By using the software, you agree to abide by the terms and conditions of the Cisco End User License Agreement at http://www.cisco.com/go/eula. Unauthorized use or distribution of this software is expressly prohibited.
          ^C
          banner login ^CC
          IOSv - Cisco Systems Confidential -

          Supplemental End User License Restrictions

          This IOSv software is provided AS-IS without warranty of any kind. Under no circumstances may this software be used separate from the Cisco Modeling Labs Software that this software was provided with, or deployed or used as part of a production environment.

          By using the software, you agree to abide by the terms and conditions of the Cisco End User License Agreement at http://www.cisco.com/go/eula. Unauthorized use or distribution of this software is expressly prohibited.
          ^C
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
           login local
          line aux 0
          line vty 0 4
           exec-timeout 0 0
           logging synchronous
           login local
           transport input ssh
          line vty 5 1500
           exec-timeout 60 0
           logging synchronous
           login local
           transport input ssh
          !
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n1
    image_definition: null
    label: SW1
    node_definition: iosvl2
    parameters: {}
    ram: null
    tags: []
    x: -200
    y: -240
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        mac_address: 52:54:00:54:a7:5c
        type: physical
        slot: 0
      - id: i2
        label: GigabitEthernet0/1
        mac_address: 52:54:00:d1:ce:ef
        type: physical
        slot: 1
      - id: i3
        label: GigabitEthernet0/2
        mac_address: 52:54:00:02:8c:a2
        type: physical
        slot: 2
      - id: i4
        label: GigabitEthernet0/3
        mac_address: 52:54:00:52:d8:53
        type: physical
        slot: 3
  - boot_disk_size: null
    configuration:
      - name: node.cfg
        content: |-
          # this is a shell script which will be sourced at boot
          hostname WALL-E
          # configurable user account
          USERNAME=wall-e
          PASSWORD=eve

          # configurable network parameters
          IP_ADDRESS=172.16.4.13/24
          INTERNAL_NETWORK=172.16.0.0/16
          EXTERNAL_NETWORK=192.168.5.0/24
          DEFAULT_GATEWAY=172.16.4.1

          # Configure a static IP address on eth0 (-> SW2)
          # Configure a dynamic IP address on eth1 (-> ext-conn)
          # Configure a default gateway for internal and external networks
          # All other traffic will go to the external connector
          # See https://wiki.alpinelinux.org/wiki/Configure_Networking#Interface_configuration
          # See https://wiki.alpinelinux.org/wiki/How_to_configure_static_routes
          cat <<EOF > /etc/network/interfaces
          auto lo
          iface lo inet loopback

          auto eth0
          iface eth0 inet static
              address $IP_ADDRESS
              up ip route add $INTERNAL_NETWORK via $DEFAULT_GATEWAY
              up ip route add $EXTERNAL_NETWORK via $DEFAULT_GATEWAY

          auto eth1
          iface eth1 inet dhcp
          EOF
          rc-service networking restart

          # Install an FTP client
          apk add lftp

          # Configure SSH config with matching key exchange method and host key type
          grep -q "KexAlgorithms" /etc/ssh/ssh_config ||
          cat <<EOF >> /etc/ssh/ssh_config
          KexAlgorithms +diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1
          HostkeyAlgorithms +ssh-rsa
          EOF
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n2
    image_definition: null
    label: WALL-E
    node_definition: alpine
    parameters: {}
    ram: null
    tags: []
    x: 280
    y: -240
    interfaces:
      - id: i0
        label: eth0
        mac_address: 52:54:00:e8:4c:7e
        type: physical
        slot: 0
      - id: i1
        label: eth1
        mac_address: 52:54:00:d5:d1:1f
        type: physical
        slot: 1
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          Building configuration...

          Current configuration : 4566 bytes
          !
          ! Last configuration change at 17:11:18 UTC Thu Feb 12 2026 by cisco
          !
          version 15.9
          service timestamps debug datetime msec
          service timestamps log datetime msec
          no service password-encryption
          !
          hostname R1
          !
          boot-start-marker
          boot-end-marker
          !
          !
          no logging buffered
          no logging console
          enable secret 9 $9$4X449f7Mpq7syv$VAdluEHIN6P2V3XnKIMaAXdls3yr833nu6ciA7Nph8k
          !
          no aaa new-model
          !
          !
          !
          mmi polling-interval 60
          no mmi auto-configure
          no mmi pvc
          mmi snmp-timeout 180
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          no ip domain lookup
          ip domain name axiom.bnl
          ip cef
          no ipv6 cef
          !
          multilink bundle-name authenticated
          !
          !
          !
          !
          username cisco privilege 15 secret 8 $8$jc1210BS4/LeHP$QGrKvdxemLzMVLTsDCrBtPFq9kkZX9EKZFrFEo7IM2A
          username wall-e secret 9 $9$5GBl.tQuZEYbYv$LulUp/WiSuOX76RE6f7XJgam6rH9RMpdIegEcfj4jF2
          username eve secret 9 $9$TQeidxRMrvVhH9$F7vaw8eZveRDvIYn6X701bvyqewNsfYebs244gDBJKE
          !
          redundancy
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          interface GigabitEthernet0/0
           ip address 172.16.3.1 255.255.255.0
           ip access-group 101 out
           duplex auto
           speed auto
           media-type rj45
          !
          interface GigabitEthernet0/1
           ip address 172.16.4.1 255.255.255.0
           ip access-group 1 out
           duplex auto
           speed auto
           media-type rj45
          !
          interface GigabitEthernet0/2
           ip address 192.168.5.1 255.255.255.0
           duplex auto
           speed auto
           media-type rj45
          !
          interface GigabitEthernet0/3
           no ip address
           shutdown
           duplex auto
           speed auto
           media-type rj45
          !
          ip forward-protocol nd
          !
          !
          no ip http server
          no ip http secure-server
          ip ssh version 2
          !
          ipv6 ioam timestamp
          !
          !
          access-list 1 permit 192.168.5.13
          access-list 1 deny   192.168.5.14
          access-list 1 permit 192.168.5.254
          access-list 1 permit 172.16.0.0 0.0.255.255
          access-list 1 deny   any
          access-list 1 remark Permit EVE, SW3, and internal; deny GO-4 and others
          access-list 12 permit 192.168.5.13
          access-list 12 permit 172.16.0.0 0.0.255.255
          access-list 12 deny   any log
          access-list 12 remark Permit EVE and internal; deny others (VTY)
          access-list 101 permit tcp 172.16.4.0 0.0.0.255 172.16.3.0 0.0.0.255 eq ftp
          access-list 101 permit tcp 172.16.4.0 0.0.0.255 172.16.3.0 0.0.0.255 eq ftp-data
          access-list 101 permit tcp host 192.168.5.13 172.16.3.0 0.0.0.255 range ftp-data ftp
          access-list 101 deny   tcp 192.168.5.0 0.0.0.255 172.16.3.0 0.0.0.255 range ftp-data ftp
          access-list 101 deny   tcp any any range ftp-data ftp
          access-list 101 permit ip any any
          access-list 101 remark Permit FTP traffic for WALL-E and EVE only
          !
          control-plane
          !
          banner exec ^CC
          **************************************************************************
          * IOSv is strictly limited to use for evaluation, demonstration and IOS  *
          * education. IOSv is provided as-is and is not supported by Cisco's      *
          * Technical Advisory Center. Any use or disclosure, in whole or in part, *
          * of the IOSv Software or Documentation to any third party for any       *
          * purposes is expressly prohibited except as otherwise authorized by     *
          * Cisco in writing.                                                      *
          **************************************************************************^C
          banner incoming ^CC
          **************************************************************************
          * IOSv is strictly limited to use for evaluation, demonstration and IOS  *
          * education. IOSv is provided as-is and is not supported by Cisco's      *
          * Technical Advisory Center. Any use or disclosure, in whole or in part, *
          * of the IOSv Software or Documentation to any third party for any       *
          * purposes is expressly prohibited except as otherwise authorized by     *
          * Cisco in writing.                                                      *
          **************************************************************************^C
          banner login ^CC
          **************************************************************************
          * IOSv is strictly limited to use for evaluation, demonstration and IOS  *
          * education. IOSv is provided as-is and is not supported by Cisco's      *
          * Technical Advisory Center. Any use or disclosure, in whole or in part, *
          * of the IOSv Software or Documentation to any third party for any       *
          * purposes is expressly prohibited except as otherwise authorized by     *
          * Cisco in writing.                                                      *
          **************************************************************************^C
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
           login local
          line aux 0
          line vty 0 4
           access-class 12 in
           exec-timeout 0 0
           login local
           transport input telnet ssh
          line vty 5 924
           access-class 12 in
           exec-timeout 60 0
           login local
           transport input ssh
          !
          no scheduler allocate
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n3
    image_definition: null
    label: R1
    node_definition: iosv
    parameters: {}
    ram: null
    tags: []
    x: -40
    y: -320
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        mac_address: 52:54:00:ea:aa:8c
        type: physical
        slot: 0
      - id: i2
        label: GigabitEthernet0/1
        mac_address: 52:54:00:fb:c3:a2
        type: physical
        slot: 1
      - id: i3
        label: GigabitEthernet0/2
        mac_address: 52:54:00:aa:b0:a7
        type: physical
        slot: 2
      - id: i4
        label: GigabitEthernet0/3
        mac_address: 52:54:00:f1:c6:54
        type: physical
        slot: 3
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          Building configuration...

          Current configuration : 3926 bytes
          !
          ! Last configuration change at 17:11:16 UTC Thu Feb 12 2026 by cisco
          !
          version 15.2
          service timestamps debug datetime msec
          service timestamps log datetime msec
          no service password-encryption
          service compress-config
          !
          hostname SW3
          !
          boot-start-marker
          boot-end-marker
          !
          !
          no logging buffered
          no logging console
          enable secret 9 $9$3QAM8rYZDqZBm9$qbZHw4O92nmAF4F4A2msofRvr7OuJYg6VCKbCQz2JXk
          !
          username cisco privilege 15 secret 8 $8$1.w7M1o2SThT.v$ygUptqRkllJcjCnM3AIf4DA1mx.9Jm1bWbFUwar23eI
          username wall-e secret 9 $9$xZxDbz5ChbCn/P$5IAg93I4cBbq0fTPllPd/DbKvBZ05xiy7lbTQaFZOzc
          username eve secret 9 $9$gFVowYUFklIztv$nWePN9gpT7JNDe2jOehUKh732VwKyNLzdIv7wZJmZYU
          no aaa new-model
          !
          !
          !
          !
          !
          vtp mode off
          no ip routing
          !
          !
          !
          no ip domain-lookup
          ip domain-name axiom.bnl
          no ip cef
          no ipv6 cef
          !
          !
          !
          spanning-tree mode pvst
          spanning-tree portfast edge default
          spanning-tree portfast edge bpdufilter default
          spanning-tree extend system-id
          !
          !
          vlan 999
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          !
          interface GigabitEthernet0/0
           switchport mode access
           negotiation auto
          !
          interface GigabitEthernet0/1
           switchport mode access
           switchport port-security mac-address sticky
           switchport port-security mac-address sticky 5254.008e.a58e
           switchport port-security
           negotiation auto
          !
          interface GigabitEthernet0/2
           switchport mode access
           switchport port-security mac-address sticky
           switchport port-security mac-address sticky 5254.00c5.32ae
           switchport port-security
           negotiation auto
          !
          interface GigabitEthernet0/3
           switchport access vlan 999
           switchport mode access
           shutdown
           negotiation auto
          !
          interface Vlan1
           ip address 192.168.5.254 255.255.255.0
           no ip route-cache
          !
          ip default-gateway 192.168.5.1
          ip forward-protocol nd
          !
          no ip http server
          no ip http secure-server
          !
          ip ssh version 2
          ip ssh server algorithm encryption aes128-ctr aes192-ctr aes256-ctr
          ip ssh client algorithm encryption aes128-ctr aes192-ctr aes256-ctr
          !
          !
          !
          !
          !
          !
          control-plane
          !
          banner exec ^CC
          IOSv - Cisco Systems Confidential -

          Supplemental End User License Restrictions

          This IOSv software is provided AS-IS without warranty of any kind. Under no circumstances may this software be used separate from the Cisco Modeling Labs Software that this software was provided with, or deployed or used as part of a production environment.

          By using the software, you agree to abide by the terms and conditions of the Cisco End User License Agreement at http://www.cisco.com/go/eula. Unauthorized use or distribution of this software is expressly prohibited.
          ^C
          banner incoming ^CC
          IOSv - Cisco Systems Confidential -

          Supplemental End User License Restrictions

          This IOSv software is provided AS-IS without warranty of any kind. Under no circumstances may this software be used separate from the Cisco Modeling Labs Software that this software was provided with, or deployed or used as part of a production environment.

          By using the software, you agree to abide by the terms and conditions of the Cisco End User License Agreement at http://www.cisco.com/go/eula. Unauthorized use or distribution of this software is expressly prohibited.
          ^C
          banner login ^CC
          IOSv - Cisco Systems Confidential -

          Supplemental End User License Restrictions

          This IOSv software is provided AS-IS without warranty of any kind. Under no circumstances may this software be used separate from the Cisco Modeling Labs Software that this software was provided with, or deployed or used as part of a production environment.

          By using the software, you agree to abide by the terms and conditions of the Cisco End User License Agreement at http://www.cisco.com/go/eula. Unauthorized use or distribution of this software is expressly prohibited.
          ^C
          !
          line con 0
           exec-timeout 0 0
           logging synchronous
           login local
          line aux 0
          line vty 0 4
           exec-timeout 0 0
           logging synchronous
           login local
           transport input ssh
          line vty 5 1500
           exec-timeout 60 0
           logging synchronous
           login local
           transport input ssh
          !
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n4
    image_definition: null
    label: SW3
    node_definition: iosvl2
    parameters: {}
    ram: null
    tags: []
    x: -40
    y: -480
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        mac_address: 52:54:00:5b:f9:5a
        type: physical
        slot: 0
      - id: i2
        label: GigabitEthernet0/1
        mac_address: 52:54:00:34:fd:ff
        type: physical
        slot: 1
      - id: i3
        label: GigabitEthernet0/2
        mac_address: 52:54:00:ab:90:fc
        type: physical
        slot: 2
      - id: i4
        label: GigabitEthernet0/3
        mac_address: 52:54:00:f5:0e:f4
        type: physical
        slot: 3
  - boot_disk_size: null
    configuration:
      - name: node.cfg
        content: |-
          # this is a shell script which will be sourced at boot
          hostname EVE
          # configurable user account
          USERNAME=eve
          PASSWORD=wall-e

          # configurable network parameters
          IP_ADDRESS=192.168.5.13/24
          INTERNAL_NETWORK=172.16.0.0/16
          DEFAULT_GATEWAY=192.168.5.1

          # Configure a static IP address on eth0 (-> SW3)
          # Configure a dynamic IP address on eth1 (-> ext-conn)
          # Configure a default gateway for internal network
          # All other traffic will go to the external connector
          # See https://wiki.alpinelinux.org/wiki/Configure_Networking#Interface_configuration
          # See https://wiki.alpinelinux.org/wiki/How_to_configure_static_routes
          cat <<EOF > /etc/network/interfaces
          auto lo
          iface lo inet loopback

          auto eth0
          iface eth0 inet static
              address $IP_ADDRESS
              up ip route add $INTERNAL_NETWORK via $DEFAULT_GATEWAY

          auto eth1
          iface eth1 inet dhcp
          EOF
          rc-service networking restart

          # Install an FTP client
          apk add lftp

          # Configure SSH config with matching key exchange method and host key type
          grep -q "KexAlgorithms" /etc/ssh/ssh_config ||
          cat <<EOF >> /etc/ssh/ssh_config
          KexAlgorithms +diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1
          HostkeyAlgorithms +ssh-rsa
          EOF
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n5
    image_definition: null
    label: EVE
    node_definition: alpine
    parameters: {}
    ram: null
    tags: []
    x: -280
    y: -560
    interfaces:
      - id: i0
        label: eth0
        mac_address: 52:54:00:8e:a5:8e
        type: physical
        slot: 0
      - id: i1
        label: eth1
        mac_address: 52:54:00:de:df:f7
        type: physical
        slot: 1
  - boot_disk_size: null
    configuration:
      - name: node.cfg
        content: |-
          # this is a shell script which will be sourced at boot
          hostname GO-4
          # configurable user account
          USERNAME=go-4
          PASSWORD=auto

          # configurable network parameters
          IP_ADDRESS=192.168.5.14/24
          INTERNAL_NETWORK=172.16.0.0/16
          DEFAULT_GATEWAY=192.168.5.1

          # Configure a static IP address on eth0 (-> SW3)
          # Configure a dynamic IP address on eth1 (-> ext-conn)
          # Configure a default gateway for internal network
          # All other traffic will go to the external connector
          # See https://wiki.alpinelinux.org/wiki/Configure_Networking#Interface_configuration
          # See https://wiki.alpinelinux.org/wiki/How_to_configure_static_routes
          cat <<EOF > /etc/network/interfaces
          auto lo
          iface lo inet loopback

          auto eth0
          iface eth0 inet static
              address $IP_ADDRESS
              up ip route add $INTERNAL_NETWORK via $DEFAULT_GATEWAY

          auto eth1
          iface eth1 inet dhcp
          EOF
          rc-service networking restart

          # Install an FTP client
          apk add lftp

          # Configure SSH config with matching key exchange method and host key type
          grep -q "KexAlgorithms" /etc/ssh/ssh_config ||
          cat <<EOF >> /etc/ssh/ssh_config
          KexAlgorithms +diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1
          HostkeyAlgorithms +ssh-rsa
          EOF
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n6
    image_definition: null
    label: GO-4
    node_definition: alpine
    parameters: {}
    ram: null
    tags: []
    x: 200
    y: -560
    interfaces:
      - id: i0
        label: eth0
        mac_address: 52:54:00:c5:32:ae
        type: physical
        slot: 0
      - id: i1
        label: eth1
        mac_address: 52:54:00:9a:1a:fe
        type: physical
        slot: 1
  - boot_disk_size: null
    configuration:
      - name: node.cfg
        content: |-
          # this is a shell script which will be sourced at boot
          hostname FTP_SERVER
          # configurable user account
          USERNAME=cisco
          PASSWORD=cisco

          # configurable network parameters
          IP_ADDRESS=172.16.3.13/24
          INTERNAL_NETWORK=172.16.0.0/16
          EXTERNAL_NETWORK=192.168.5.0/24
          DEFAULT_GATEWAY=172.16.3.1

          # Configure a static IP address on eth0 (-> SW1)
          # Configure a dynamic IP address on eth1 (-> ext-conn)
          # Configure a default gateway for internal and external networks
          # All other traffic will go to the external connector
          # See https://wiki.alpinelinux.org/wiki/Configure_Networking#Interface_configuration
          # See https://wiki.alpinelinux.org/wiki/How_to_configure_static_routes
          cat <<EOF > /etc/network/interfaces
          auto lo
          iface lo inet loopback

          auto eth0
          iface eth0 inet static
              address $IP_ADDRESS
              up ip route add $INTERNAL_NETWORK via $DEFAULT_GATEWAY
              up ip route add $EXTERNAL_NETWORK via $DEFAULT_GATEWAY

          auto eth1
          iface eth1 inet dhcp
          EOF
          rc-service networking restart

          # Install an FTP server
          apk add vsftpd

          # Configure the FTP server
          # See https://wiki.alpinelinux.org/wiki/FTP#vsftpd
          # For a workaround to allow LIST commands, see https://askubuntu.com/questions/1498826/vsftpd-fails-list-command-even-when-firewall-is-off-and-on-localhost
          grep -q "seccomp_sandbox=NO" /etc/vsftpd/vsftpd.conf ||
          cat <<EOF >> /etc/vsftpd/vsftpd.conf

          # Allow LIST commands (a workaround)
          seccomp_sandbox=NO
          # Do not allow anonymous FTP
          anonymous_enable=NO
          # Allow local users to log in
          local_enable=YES
          EOF

          # Start the FTP server
          rc-service vsftpd status || rc-update add vsftpd default
          rc-service vsftpd status || rc-service vsftpd start
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n7
    image_definition: null
    label: FTP Server
    node_definition: alpine
    parameters: {}
    ram: null
    tags: []
    x: -360
    y: -240
    interfaces:
      - id: i0
        label: eth0
        mac_address: 52:54:00:dd:5b:5e
        type: physical
        slot: 0
      - id: i1
        label: eth1
        mac_address: 52:54:00:45:ef:fb
        type: physical
        slot: 1
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n8
    image_definition: null
    label: ext-conn-0
    node_definition: external_connector
    parameters: {}
    ram: null
    tags: []
    x: -480
    y: -240
    interfaces:
      - id: i0
        label: port
        mac_address: null
        type: physical
        slot: 0
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n9
    image_definition: null
    label: ext-conn-1
    node_definition: external_connector
    parameters: {}
    ram: null
    tags: []
    x: 400
    y: -240
    interfaces:
      - id: i0
        label: port
        mac_address: null
        type: physical
        slot: 0
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n10
    image_definition: null
    label: ext-conn-2
    node_definition: external_connector
    parameters: {}
    ram: null
    tags: []
    x: -480
    y: -560
    interfaces:
      - id: i0
        label: port
        mac_address: null
        type: physical
        slot: 0
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n11
    image_definition: null
    label: ext-conn-3
    node_definition: external_connector
    parameters: {}
    ram: null
    tags: []
    x: 400
    y: -560
    interfaces:
      - id: i0
        label: port
        mac_address: null
        type: physical
        slot: 0
links:
  - id: l0
    n1: n3
    n2: n1
    i1: i1
    i2: i1
    conditioning: {}
    label: R1-GigabitEthernet0/0<->SW1-GigabitEthernet0/0
  - id: l1
    n1: n3
    n2: n0
    i1: i2
    i2: i1
    conditioning: {}
    label: R1-GigabitEthernet0/1<->SW2-GigabitEthernet0/0
  - id: l2
    n1: n0
    n2: n2
    i1: i2
    i2: i0
    conditioning: {}
    label: SW2-GigabitEthernet0/1<->WALL-E-eth0
  - id: l3
    n1: n3
    n2: n4
    i1: i3
    i2: i1
    conditioning: {}
    label: R1-GigabitEthernet0/2<->SW3-GigabitEthernet0/0
  - id: l4
    n1: n4
    n2: n5
    i1: i2
    i2: i0
    conditioning: {}
    label: SW3-GigabitEthernet0/1<->alpine-0-eth0
  - id: l5
    n1: n4
    n2: n6
    i1: i3
    i2: i0
    conditioning: {}
    label: SW3-GigabitEthernet0/2<->alpine-0-eth0
  - id: l6
    n1: n7
    n2: n1
    i1: i0
    i2: i2
    conditioning: {}
    label: alpine-0-eth0<->SW1-GigabitEthernet0/1
  - id: l7
    n1: n8
    n2: n7
    i1: i0
    i2: i1
    conditioning: {}
    label: ext-conn-port<->Server-eth1
  - id: l8
    n1: n2
    n2: n9
    i1: i1
    i2: i0
    conditioning: {}
    label: WALL-E-eth1<->ext-conn-0-port
  - id: l9
    n1: n5
    n2: n10
    i1: i1
    i2: i0
    conditioning: {}
    label: EVE-eth1<->ext-conn-2-port
  - id: l10
    n1: n6
    n2: n11
    i1: i1
    i2: i0
    conditioning: {}
    label: GO-4-eth1<->ext-conn-3-port
lab:
  description: |-
    This lab configures IPv4 Access Control Lists (ACLs) in a small network with one router.

    The lab topology was inspired from Day 9 (ACL Implementation) from 31 Days Before your CCNA Exam by Allan Johnson.

    The router (R1) has three IPv4 ACLs: standard ACL for traffic towards 172.16.4.0/24 (WALL-E's subnet), standard ACL for VTY connections (e.g. SSH), and extended ACL for traffic towards 172.16.3.0/24 (FTP server's subnet).

    To connect to the FTP server, run lftp ftp://cisco@172.16.3.13 (the password is cisco), and run some command.

    For more information about the implemented features, see the configuration of the devices (show running-config or show run).

    Credentials:
    WALL-E: username: wall-e, password: eve
    EVE: username: eve, password: wall-e
    GO-4: username: go-4, password: auto
    FTP Server: username: cisco, password: cisco
    Admin: username: cisco, password: cisco
    Enable secret: cisco
  notes: ''
  title: ACL_Lab
  version: 0.3.0
